{% extends "base.html" %}
{% load static %}

{% block content %}
<!-- Hero Section with Animations -->
<section class="hero" style="padding: 100px 0; position: relative; overflow: hidden;">
    <!-- Background Image with Overlay -->
    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>
    <!-- Mesh Overlay -->
    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.8) 0%, rgba(240, 242, 255, 0.9) 100%);"></div>
    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: radial-gradient(circle at 25px 25px, rgba(106, 17, 203, 0.05) 2%, transparent 0%), radial-gradient(circle at 75px 75px, rgba(37, 117, 252, 0.05) 2%, transparent 0%); background-size: 100px 100px;"></div>
    <div class="container" style="display: flex; align-items: center; justify-content: space-between; gap: 40px; max-width: 1200px; margin: 0 auto; padding: 0 20px;">
        <div class="hero-content" style="flex: 1; max-width: 600px; padding-right: 27px;">
            <div class="heading-container" style="margin-bottom: 24px; overflow: hidden; height: auto;">
                <h1 id="typewriter-part1" style="font-size: 3rem; margin: 0; line-height: 1.2; font-weight: 800; letter-spacing: -0.5px; background: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; white-space: nowrap; overflow: hidden; width: 0; border-right: 3px solid #6a11cb; animation: typing1 1.5s steps(20, end) forwards, blink-caret 0.75s step-end 2, slideUp 0.5s ease-out 2s forwards, hideCursor 0.1s 2.5s forwards;">
                    Disha Media
                </h1>
                <h1 id="typewriter-part2" style="font-size: 2.16rem; margin: 10px 0 0 0; line-height: 1.3; font-weight: 700; letter-spacing: -0.3px; background: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; white-space: nowrap; overflow: visible; width: 0; opacity: 0; border-right: 3px solid #6a11cb; animation: typing2 2.5s steps(35, end) 2.5s forwards, blink-caret 0.75s step-end 2s infinite, showText 0.1s 2.5s forwards;">
                    The Voice of Chennamangaloor HSS
                </h1>
            </div>
            <p style="font-size: 1.25rem; color: #4a5568; margin-bottom: 32px; line-height: 1.8; opacity: 0; animation: fadeIn 1.5s ease-out 4.5s forwards;">
                Welcome to the official digital platform of Chennamangaloor HSS, where we bring you the latest news, achievements, and updates from our school community. Stay connected with all the happenings and celebrate our collective journey of learning and growth.
            </p>
            <a href="{% url 'web:news' %}" class="btn btn-primary" style="display: inline-block; padding: 14px 32px; background: #6a11cb; color: white; text-decoration: none; border-radius: 4px; font-weight: 500; transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); transform: scale(1); box-shadow: 0 4px 6px rgba(106, 17, 203, 0.2); opacity: 0; animation: fadeIn 1s ease-out 5s forwards;">
                Read News
            </a>
        </div>
        <div class="hero-image" style="flex: 1; max-width: 50%; border-radius: 12px; overflow: hidden; box-shadow: 0 20px 40px rgba(106, 17, 203, 0.15); opacity: 0; animation: fadeIn 1s ease-out 2s forwards;">
            <img src="{% static 'images/school-building.jpg' %}" alt="Chennamangaloor HSS" style="width: 100%; height: auto; display: block; transition: transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
        </div>
    </div>
    
    <style>
        /* First part typing effect */
        @keyframes typing1 {
            from { width: 0 }
            to { width: 100%; }
        }
        
        /* Second part typing effect */
        @keyframes typing2 {
            from { width: 0 }
            to { width: 100%; }
        }
        
        /* Slide up first part */
        @keyframes slideUp {
            to { transform: translateY(-10px); }
        }
        
        /* Show second part */
        @keyframes showText {
            to { opacity: 1; }
        }
        
        /* Hide cursor after animation */
        @keyframes hideCursor {
            to { border-right-color: transparent; }
        }
        
        /* Cursor blink effect */
        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: #6a11cb; }
        }
        
        /* Fade in effect */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Button hover effect */
        .btn-primary:hover {
            transform: scale(1.05) !important;
            box-shadow: 0 8px 15px rgba(106, 17, 203, 0.3) !important;
            background: linear-gradient(45deg, #6a11cb, #8a2be2) !important;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .hero {
                padding: 60px 0 !important;
            }
            .hero .container {
                flex-direction: column !important;
                text-align: center !important;
                padding: 0 15px !important;
            }
            .hero-content {
                max-width: 100% !important;
                padding-right: 0 !important;
                margin-bottom: 30px;
            }
            #typewriter-part1 {
                font-size: 2.2rem !important;
                white-space: normal !important;
                width: 100% !important;
                border-right: none !important;
                animation: none !important;
                -webkit-text-fill-color: #6a11cb !important;
                background: none !important;
            }
            #typewriter-part2 {
                font-size: 1.5rem !important;
                white-space: normal !important;
                width: 100% !important;
                border-right: none !important;
                animation: none !important;
                opacity: 1 !important;
                -webkit-text-fill-color: #2575fc !important;
                background: none !important;
                margin: 10px 0 20px 0 !important;
            }
            .hero-content p {
                font-size: 1.1rem !important;
                text-align: center !important;
                padding: 0 10px;
                opacity: 1 !important;
                animation: none !important;
            }
            .btn-primary {
                width: 100% !important;
                max-width: 300px;
                margin: 0 auto !important;
                display: block !important;
                padding: 12px 24px !important;
                font-size: 1.1rem !important;
                opacity: 1 !important;
                animation: none !important;
            }
            .hero-image {
                max-width: 100% !important;
                margin-top: 20px;
            }
        }
    </style>
    
    <script>
        // Fallback for typewriter effect in case CSS animations are not supported
        document.addEventListener('DOMContentLoaded', function() {
            const typewriter = document.getElementById('typewriter');
            if (typewriter) {
                // If JavaScript is needed for the typewriter effect, it would go here
                // But since we're using CSS animations, this is just a fallback
                typewriter.style.animation = 'typing 3.5s steps(45, end) forwards, blink-caret 0.75s step-end infinite';
            }
        });
    </script>
</section>

<!-- About Section with Animation -->
<section class="about-section" style="padding: 100px 0; background: linear-gradient(to right, #ffffff 0%, #f8f9ff 100%); position: relative; overflow: hidden;">
    <!-- Animated background elements -->
    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; opacity: 0.05;">
        <div style="position: absolute; width: 300px; height: 300px; border-radius: 50%; background: radial-gradient(circle, rgba(106,17,203,0.2) 0%, rgba(255,255,255,0) 70%); top: 10%; left: 10%; animation: float 8s ease-in-out infinite;"></div>
        <div style="position: absolute; width: 200px; height: 200px; border-radius: 50%; background: radial-gradient(circle, rgba(37,117,252,0.15) 0%, rgba(255,255,255,0) 70%); bottom: 10%; right: 15%; animation: float 10s ease-in-out infinite reverse;"></div>
    </div>
    
    <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 20px; position: relative; z-index: 1;">
        <div style="display: flex; align-items: center; gap: 60px; flex-wrap: wrap;">
            <!-- About Content -->
            <div class="about-content" style="flex: 1; min-width: 300px; opacity: 0; transform: translateX(-30px); animation: slideIn 1s ease-out 0.5s forwards;">
                <div style="position: relative; display: inline-block; margin-bottom: 25px;">
                    <span style="display: inline-block; font-size: 0.9rem; font-weight: 600; color: #6a11cb; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 15px;">About Our Platform</span>
                    <div style="width: 60px; height: 3px; background: linear-gradient(90deg, #6a11cb, #2575fc); margin-top: 10px; border-radius: 3px;"></div>
                </div>
                
                <div style="overflow: hidden; text-align: left;">
                    <h2 class="popup-heading" style="
                        font-size: 2.5rem;
                        margin: 0 0 25px;
                        line-height: 1.3;
                        font-weight: 800;
                        background: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%);
                        -webkit-background-clip: text;
                        background-clip: text;
                        color: transparent;
                        display: inline-block;
                        position: relative;
                        opacity: 0;
                        transform: scale(0.8);
                        animation: popIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.5s forwards;
                        transition: all 0.3s ease;
                        cursor: default;
                        text-align: left;
                    ">
                        Empowering Education Through Digital Innovation
                        <span style="
                            content: '';
                            position: absolute;
                            left: 0;
                            bottom: -10px;
                            width: 60px;
                            height: 4px;
                            background: linear-gradient(90deg, #6a11cb, #2575fc);
                            border-radius: 2px;
                            transform: scaleX(0);
                            transform-origin: left;
                            animation: scaleIn 0.5s ease-out 1s forwards;
                        "></span>
                    </h2>
                </div>
                
                <style>
                    @keyframes popIn {
                        0% {
                            opacity: 0;
                            transform: scale(0.5);
                        }
                        70% {
                            opacity: 1;
                            transform: scale(1.05);
                        }
                        100% {
                            opacity: 1;
                            transform: scale(1);
                        }
                    }
                    
                    @keyframes scaleIn {
                        from { 
                            transform: scaleX(0);
                            opacity: 0;
                        }
                        to { 
                            transform: scaleX(1);
                            opacity: 1;
                        }
                    }
                    
                    .popup-heading:hover {
                        background: linear-gradient(90deg, #8a2be2 0%, #3b82f6 100%);
                        -webkit-background-clip: text;
                        background-clip: text;
                        transform: scale(1.02) !important;
                    }
                </style>
                
                <p style="font-size: 1.1rem; color: #4a4a6a; line-height: 1.8; margin: 40px 0; position: relative; padding-left: 25px; border-left: 3px solid #6a11cb;">
                    <span style="display: block; margin-bottom: 15px;">Disha Media is the official digital media platform of Chennamangaloor HSS, dedicated to bringing you the latest news, events, and achievements from our school community.</span>
                    <span style="display: block;">We strive to keep students, parents, and staff informed and engaged with high-quality, accurate, and timely content that celebrates our collective journey of learning and growth.</span>
                </p>
            </div>
            
            <!-- About Image -->
            <div class="about-image" style="flex: 1; min-width: 300px; position: relative; opacity: 0; transform: translateX(30px); animation: slideIn 1s ease-out 0.8s forwards;">
                <div style="position: relative; border-radius: 20px; overflow: hidden; box-shadow: 0 30px 60px -10px rgba(106, 17, 203, 0.2); transform: perspective(1000px) rotateY(-5deg); transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);">
                    <img src="{% static 'images/Bullet journal-pana.png' %}" alt="Bullet Journal Illustration" style="width: 100%; height: auto; display: block; transition: transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);">
                    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(45deg, rgba(106, 17, 203, 0.1) 0%, rgba(37, 117, 252, 0.1) 100%); mix-blend-mode: overlay; transition: opacity 0.6s ease;"></div>
                </div>
                
                <!-- Decorative elements -->
                <div style="position: absolute; width: 80px; height: 80px; background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); border-radius: 50%; top: -20px; right: -20px; z-index: -1; animation: pulse 3s ease-in-out infinite;"></div>
                <div style="position: absolute; width: 40px; height: 40px; background: linear-gradient(135deg, #ff6b6b 0%, #ff8e53 100%); border-radius: 50%; bottom: -10px; left: -10px; z-index: -1; animation: float 6s ease-in-out infinite;"></div>
                
                <!-- Storyset attribution -->
                <div style="position: absolute; bottom: 30px; left: -30px; background: white; padding: 10px 15px; border-radius: 12px; box-shadow: 0 15px 40px rgba(106, 17, 203, 0.15); transform: rotate(-5deg); animation: float 4s ease-in-out infinite; opacity: 0; animation: slideIn 1s ease-out 1.2s forwards, float 4s ease-in-out 1.2s infinite;">
                    <a href="https://storyset.com/idea" target="_blank" rel="noopener noreferrer" style="text-decoration: none; color: #6a11cb; font-size: 0.7rem; font-weight: 500; display: flex; align-items: center; gap: 8px;">
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <style>
        /* New heading animations */
        @keyframes gradientShift {
            0% { background-position: 0% center; }
            50% { background-position: 100% center; }
            100% { background-position: 0% center; }
        }
        
        @keyframes typeIn {
            from { 
                width: 0; 
                opacity: 0; 
                transform: translateY(20px);
            }
            to { 
                width: 100%; 
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes expandWidth {
            from { width: 0; }
            to { width: 100%; }
        }
        
        /* Animation keyframes */
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(2deg); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; }
        }
        
        /* Hover effects */
        .about-image > div:hover {
            transform: perspective(1000px) rotateY(0) !important;
            box-shadow: 0 40px 80px -15px rgba(106, 17, 203, 0.3) !important;
        }
        
        .about-image > div:hover img {
            transform: scale(1.03);
        }
        
        .about-content > div > div:hover {
            transform: translateY(-5px) !important;
            box-shadow: 0 15px 40px rgba(106, 17, 203, 0.15) !important;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .about-content, .about-image {
                min-width: 100% !important;
                padding: 0 10px !important;
            }
            
            .about-image {
                margin-top: 40px;
            }
            
            .about-image > div {
                transform: none !important;
            }
        }
    </style>
</section>

<!-- Recent News Section -->
<section id="recent-news" class="news-section" style="padding: 100px 0; background: #f8f9ff; position: relative; overflow: hidden;">
    <!-- Decorative Elements -->
    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; opacity: 0.03;">
        <div style="position: absolute; width: 500px; height: 500px; border-radius: 50%; background: radial-gradient(circle, rgba(106,17,203,0.1) 0%, rgba(255,255,255,0) 70%); top: -10%; right: -10%; animation: float 10s ease-in-out infinite reverse;"></div>
    </div>
    
    <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 20px; position: relative; z-index: 1;">
        <!-- Section Header with Flex Layout -->
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 50px; position: relative;">
            <div style="position: relative; display: inline-block;">
                <h2 style="font-size: 2.5rem; margin: 0; font-weight: 800; background: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; position: relative; display: inline-block;">
                    Recent News
                    <span style="content: ''; position: absolute; bottom: -10px; left: 0; width: 80px; height: 4px; background: linear-gradient(90deg, #6a11cb, #2575fc); border-radius: 2px;"></span>
                </h2>
                <p style="margin: 27px 0 0; color: #6b7280; font-size: 1.1rem; line-height: 1.6;">Stay updated with the latest happenings at Chennamangaloor HSS</p>
            </div>
            <a href="/news/" class="btn-view-all" style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 24px; background: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%); color: white; text-decoration: none; border-radius: 50px; font-weight: 600; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0 4px 15px rgba(106, 17, 203, 0.2);">
                <span class="btn-text">View All News</span>
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="btn-icon" style="transition: transform 0.3s ease;">
                    <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </a>
        </div>
        
        <!-- News Grid -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-top: 30px;">
            {% for news_item in latest_news %}
            <div class="news-card" style="background: #fff; border-radius: 12px; overflow: hidden; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05); transition: transform 0.3s ease, box-shadow 0.3s ease; display: flex; flex-direction: column; height: 100%;">
                <div style="height: 200px; overflow: hidden; flex-shrink: 0;">
                    {% if news_item.image and news_item.image.url %}
                        <img src="{{ news_item.image.url }}" alt="{{ news_item.title }}" style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease;">
                    {% else %}
                        <div style="width: 100%; height: 100%; background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%); display: flex; align-items: center; justify-content: center; color: #9ca3af;">
                            <span>No Image</span>
                        </div>
                    {% endif %}
                </div>
                <div style="padding: 20px; display: flex; flex-direction: column; flex-grow: 1;">
                    <div style="display: flex; align-items: center; margin-bottom: 15px;">
                        <span style="font-size: 0.85rem; color: #6a11cb; font-weight: 600; background: rgba(106, 17, 203, 0.1); padding: 4px 12px; border-radius: 50px; display: inline-block; text-transform: capitalize;">
                            {{ news_item.category }}
                        </span>
                        <span style="font-size: 0.85rem; color: #6b7280; margin-left: 10px;">
                            {{ news_item.created_at|date:"M d, Y" }}
                        </span>
                    </div>
                    <h3 style="font-size: 1.4rem; margin: 0 0 15px; color: #1a202c; line-height: 1.4; flex-grow: 1;">
                        <a href="{% url 'web:news_detail' pk=news_item.pk %}" style="color: inherit; text-decoration: none; transition: color 0.3s ease;">
                            {{ news_item.title }}
                        </a>
                    </h3>
                    <p style="color: #4b5563; margin: 0 0 20px; line-height: 1.6; font-size: 0.95rem;">
                        {{ news_item.description|truncatewords:20 }}
                    </p>
                    <a href="{% url 'web:news_detail' pk=news_item.pk %}" class="read-more" style="display: inline-flex; align-items: center; color: #6a11cb; font-weight: 600; text-decoration: none; font-size: 0.95rem; margin-top: auto;">
                        Read More
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-left: 8px; transition: transform 0.3s ease;">
                            <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <style>
            @media (max-width: 768px) {
                .btn-view-all {
                    padding: 10px 20px !important;
                    font-size: 0.9rem !important;
                    margin-top: 15px;
                    width: 100%;
                    justify-content: center;
                    text-align: center;
                }
                .btn-view-all .btn-text {
                    font-size: 0.9rem;
                }
                .btn-view-all .btn-icon {
                    width: 16px;
                    height: 16px;
                }
                .news-section .container > div {
                    flex-direction: column;
                    align-items: flex-start;
                }
            }
            
            .news-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 15px 40px rgba(106, 17, 203, 0.15) !important;
            }
            
            .news-card:hover img {
                transform: scale(1.05);
            }
            
            .news-card .read-more:hover {
                color: #8b5cf6;
            }
            
            .news-card .read-more:hover svg {
                transform: translateX(5px);
            }
            
            @media (max-width: 768px) {
                .news-card {
                    max-width: 400px;
                    margin: 0 auto;
                }
            }
        </style>
    </div>
</section>

<!-- Font Awesome for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<style>
    /* Footer hover effects */
    .footer a:hover {
        color: #fff !important;
        transform: translateX(5px);
    }
    
    .footer a:hover span {
        opacity: 1 !important;
    }
    
    .footer-links li {
        transition: all 0.3s ease;
    }
    
    .footer-links li:hover {
        transform: translateX(5px);
    }
    
    @media (max-width: 768px) {
        .footer {
            text-align: center;
        }
        
        .footer h4 {
            margin-left: auto;
            margin-right: auto;
        }
        
        .footer-about, .footer-links, .footer-contact {
            margin-bottom: 30px;
        }
    }
</style>
{% endblock %}